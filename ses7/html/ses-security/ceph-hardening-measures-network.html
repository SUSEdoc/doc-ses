<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/><title>SES 7 | Security Hardening Guide | Network</title><link rel="stylesheet" type="text/css" href="static/css/style.css"/>
<meta name="title" content="Network | SES 7"/>
<meta name="description" content="SUSE Enterprise Storage is a complex system that communicates internally and externally via networks. As with all other systems careful design and co…"/>
<meta name="product-name" content="SUSE Enterprise Storage"/>
<meta name="product-number" content="7"/>
<meta name="book-title" content="Security Hardening Guide"/>
<meta name="chapter-title" content="Chapter 4. Network"/>
<meta name="tracker-url" content="https://github.com/SUSE/doc-ses/issues/new"/>
<meta name="tracker-type" content="gh"/>
<meta name="tracker-gh-assignee" content="tbazant"/>
<meta name="tracker-gh-template" content="&#10;     ### Type of report&#10;   - [ ] bug&#10;   - [ ] feature request&#10;&#10;### Source Document&#10;@@source@@&#10;&#10;### Summary&#10;&lt;!-- A clear and concise description of what the bug/feature request is. --&gt;&#10;&#10;### Steps To Reproduce&#10;&lt;!-- Steps to reproduce the behavior if you ran through steps in the document. --&gt;&#10;&#10;### Expected Results&#10;&lt;!-- A clear and concise description of what you expected to happen. --&gt;&#10;&#10;### Actual Results&#10;&lt;!-- Explain what actually happened if steps were executed, and if applicable, add screenshots to help explain your problem. --&gt;&#10;&#10;### Notes&#10;&lt;!-- Add any other context about the problem here. --&gt;&#10;&#10;    "/>
<meta name="tracker-gh-labels" content="bug,question,feature request"/>
<meta property="og:title" content="Network | SES 7"/>
<meta property="og:description" content="SUSE Enterprise Storage is a complex system that communicates internally and externally via networks. As with all other systems careful design and co…"/>
<meta property="og:type" content="article"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Network | SES 7"/>
<meta name="twitter:description" content="SUSE Enterprise Storage is a complex system that communicates internally and externally via networks. As with all other systems careful design and co…"/>
<link rel="prev" href="ceph-hardening-measures-general.html" title="Chapter 3. General"/><link rel="next" href="ceph-hardening-measures-dos.html" title="Chapter 5. Prevent Denial Of Service (DoS)"/>
<script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"/></noscript><script src="static/js/jquery-1.12.4.min.js" type="text/javascript"> </script><script src="static/js/script.js" type="text/javascript"> </script><script src="static/js/highlight.min.js" type="text/javascript"> </script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script><meta name="edit-url" content="https://github.com/SUSE/doc-ses/edit/main/xml/hardening_measures_network.xml"/></head><body class="draft wide offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-pagination">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><header id="_mainnav"><div class="growth-inhibitor"><img src="static/images/logo.svg" alt="Logo" class="logo"/></div></header><div class="crumbs"><div class="growth-inhibitor"><a class="crumb" href="index.html">Security Hardening Guide</a><span> / </span><a class="crumb" href="ceph-security-hardening-meassures.html">Hardening meassures</a><span> / </span><a class="crumb" href="ceph-hardening-measures-network.html">Network</a></div></div><main id="_content"><nav id="_side-toc-overall" class="side-toc"><div class="side-title">Security Hardening Guide</div><ol><li><a href="preface-security.html" class=" "><span class="title-number"> </span><span class="title-name">About this guide</span></a></li><li><a href="ceph-security-hardening-initial.html" class="has-children "><span class="title-number">I </span><span class="title-name">Introduction</span></a><ol><li><a href="ceph-hardening1.html" class=" "><span class="title-number">1 </span><span class="title-name">Understanding the threat</span></a></li><li><a href="ceph-hardening2.html" class=" "><span class="title-number">2 </span><span class="title-name">About this guide</span></a></li></ol></li><li class="active"><a href="ceph-security-hardening-meassures.html" class="has-children you-are-here"><span class="title-number">II </span><span class="title-name">Hardening meassures</span></a><ol><li><a href="ceph-hardening-measures-general.html" class=" "><span class="title-number">3 </span><span class="title-name">General</span></a></li><li><a href="ceph-hardening-measures-network.html" class=" you-are-here"><span class="title-number">4 </span><span class="title-name">Network</span></a></li><li><a href="ceph-hardening-measures-dos.html" class=" "><span class="title-number">5 </span><span class="title-name">Prevent Denial Of Service (DoS)</span></a></li><li><a href="ceph-hardening-measures-authentication.html" class=" "><span class="title-number">6 </span><span class="title-name">Authentication</span></a></li><li><a href="ceph-hardening-measures-confidentiality.html" class=" "><span class="title-number">7 </span><span class="title-name">Confidentiality</span></a></li></ol></li><li><a href="bk04go01.html" class=" "><span class="title-number"> </span><span class="title-name">Glossary</span></a></li> </ol> </nav><button id="_open-side-toc-overall" title="Contents"> </button><article class="documentation"><button id="_unfold-side-toc-page">On this page</button><section class="chapter" id="ceph-hardening-measures-network" data-id-title="Network"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname">SUSE Enterprise Storage</span> <span class="productnumber">7</span></div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">4 </span><span class="title-name">Network</span></span> <a title="Permalink" class="permalink" href="ceph-hardening-measures-network.html#">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-ses/edit/main/xml/hardening_measures_network.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  SUSE Enterprise Storage is a complex system that communicates internally and externally
  via networks. As with all other systems careful design and control of this
  network access is vital for ensuring the security of your cluster.
 </p><p>
  While SUSE Enterprise Storage can be run with a single network connected to all nodes,
  it is important for security to use the setup recommended in
  <span class="intraxref">Book “Deployment Guide”, Chapter 2 “Hardware requirements and recommendations”, Section 2.1 “Network overview”</span> and have two separate networks connected
  to your cluster. It is to be preferred to have physically separate networks.
  If this is not possible, you can use VLANs to logically separate them.
 </p><p>
  The internal network is used for replication and recovery and should not be
  available to clients. Unless special measures are taken (described in
  <a class="xref" href="ceph-hardening-measures-confidentiality.html" title="Chapter 7. Confidentiality">Chapter 7, <em>Confidentiality</em></a>) data stored on
  SUSE Enterprise Storage is transfered in cleartext on this network. Even when you
  ensure that data is transfered only in encrypted form, we highly recommend to
  use a dedicated network.
 </p><p>
  The public network is used as interface for clients and can be restricted to
  the minimal necessary access and also be monitored for anomalies.
 </p><p>
  These are the TCP ports that are necessary for various services:
 </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
    3300, 6789: Monitor nodes
   </p></li><li class="listitem"><p>
    6800-7300: OSD nodes
   </p></li><li class="listitem"><p>
    6800-7300: MGR nodes
   </p></li><li class="listitem"><p>
    6800: MDS nodes
   </p></li><li class="listitem"><p>
    80,443,7480: Radosgw
   </p></li><li class="listitem"><p>
    8080,8443: Dashboard
   </p></li><li class="listitem"><p>
    4505,4506: Administration via salt
   </p></li></ul></div><p>
  You should ensure on a network and on a host level that these ports are only
  accessible to the strictest possible set of clients. All other ports should
  be blocked by a default-deny rule. Remember to block the ports you want to
  deny access to for IPv4 and IPv6 if that is enabled in your environment.
 </p><p>
  Consider your use case and then analyze what network access is necessary on
  each network. For example, the Ceph Dashboard usually does not need to be
  accessible to users and access to it can be restricted via firewalls. The
  RADOS Block Device, CephFS, and the Object Gateway must be available to the clients that use
  them. If certain services are not used, or only a limited set of users use
  it, you can prevent access to these ports in general or for groups that do
  not need access. This limits the damage that can be done if a vulnerability
  in this component is found.
 </p></section><nav class="bottom-pagination"><div><a class="pagination-link prev" href="ceph-hardening-measures-general.html"><span class="pagination-relation">Previous</span><span class="pagination-label"><span class="title-number">Chapter 3 </span>General</span></a> </div><div><a class="pagination-link next" href="ceph-hardening-measures-dos.html"><span class="pagination-relation">Next</span><span class="pagination-label"><span class="title-number">Chapter 5 </span>Prevent Denial Of Service (DoS)</span></a> </div></nav></article><aside id="_side-toc-page" class="side-toc"><div class="side-title">Share this page</div><ul class="share"><li><a id="_share-fb" href="#" title="Facebook"> </a></li><li><a id="_share-in" href="#" title="LinkedIn"> </a></li><li><a id="_share-tw" href="#" title="Twitter"> </a></li><li><a id="_share-mail" href="#" title="E-Mail"> </a></li><li><a id="_print-button" href="#" title="Print this page"> </a></li></ul> </aside></main><footer id="_footer"><div class="growth-inhibitor"><div class="copy"><span class="copy__rights">© SUSE
                 2022</span></div></div></footer></body></html>