<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/><title>Tuning Guide | SUSE Enterprise Storage 6</title><link rel="stylesheet" type="text/css" href="static/css/style.css"/>
<meta name="title" content="Tuning Guide | SES 6"/>
<meta name="description" content=""/>
<meta name="product-name" content="SUSE Enterprise Storage"/>
<meta name="product-number" content="6"/>
<meta name="book-title" content="Tuning Guide"/>
<meta name="tracker-url" content="https://github.com/SUSE/doc-ses/issues/new/choose"/>
<meta name="tracker-type" content="gh"/>
<meta name="tracker-gh-assignee" content="asettle"/>
<meta name="tracker-gh-labels" content="bug,question,feature request"/>
<meta property="og:title" content="Tuning Guide | SES 6"/>
<meta property="og:description" content=""/>
<meta property="og:type" content="article"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Tuning Guide | SES 6"/>
<meta name="twitter:description" content=""/>
<link rel="prev" href="bk02go01.html" title="Glossary"/><link rel="next" href="part-intro.html" title="Part I. Introduction"/>
<script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"/></noscript><script src="static/js/jquery-1.10.2.min.js" type="text/javascript"> </script><script src="static/js/script.js" type="text/javascript"> </script><script src="static/js/highlight.min.js" type="text/javascript"> </script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft wide offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-pagination">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><header id="_mainnav"><div class="growth-inhibitor"><img src="static/images/logo.svg" alt="Logo" class="logo"/></div></header><div class="crumbs"><div class="growth-inhibitor"><a class="crumb" href="index.html">Tuning Guide</a></div></div><main id="_content"><nav id="_side-toc-overall" class="side-toc"><div class="side-title">Tuning Guide</div><ol><li><a href="part-intro.html" class="has-children "><span class="title-number">I </span><span class="title-name">Introduction</span></a><ol><li><a href="bk03pt01ch01.html" class=" "><span class="title-number">1 </span><span class="title-name">User Privileges and Command Prompts</span></a></li><li><a href="tuning-how.html" class=" "><span class="title-number">2 </span><span class="title-name">General Notes on System Tuning</span></a></li><li><a href="tuning-intro.html" class=" "><span class="title-number">3 </span><span class="title-name">Introduction to Tuning SUSE Enterprise Storage Clusters</span></a></li></ol></li><li><a href="part-tuning-guide.html" class="has-children "><span class="title-number">II </span><span class="title-name">SUSE Enterprise Storage Tuning</span></a><ol><li><a href="tuning-architecture.html" class=" "><span class="title-number">4 </span><span class="title-name">Architecture and Hardware Tuning</span></a></li><li><a href="tuning-os.html" class=" "><span class="title-number">5 </span><span class="title-name">Operating System Level Tuning</span></a></li><li><a href="tuning-ceph.html" class=" "><span class="title-number">6 </span><span class="title-name">Ceph Tuning</span></a></li><li><a href="cha-ceph-tiered.html" class=" "><span class="title-number">7 </span><span class="title-name">Cache Tiering</span></a></li><li><a href="lvmcache.html" class=" "><span class="title-number">8 </span><span class="title-name">Improving Performance with LVM cache</span></a></li></ol></li><li><a href="tuning-appendix-a.html" class=" "><span class="title-number">A </span><span class="title-name">Salt State for Kernel Tuning</span></a></li><li><a href="tuning-appendix-b.html" class=" "><span class="title-number">B </span><span class="title-name">Ring Buffer Max Value Script</span></a></li><li><a href="tuning-appendix-c.html" class=" "><span class="title-number">C </span><span class="title-name">Network Tuning</span></a></li><li><a href="bk03apd.html" class=" "><span class="title-number">D </span><span class="title-name">Ceph Maintenance Updates Based on Upstream 'Nautilus' Point Releases</span></a></li><li><a href="bk03go01.html" class=" "><span class="title-number"> </span><span class="title-name">Glossary</span></a></li> </ol> </nav><button id="_open-side-toc-overall" title="Contents"> </button><article class="documentation"><button id="_unfold-side-toc-page">On this page</button><section xml:lang="en" class="book" id="book-storage-tuning" data-id-title="Tuning Guide"><div class="titlepage"><div><div class="big-version-info"><span class="productname">SUSE Enterprise Storage</span> <span class="productnumber">6</span></div><div><h1 class="title">Tuning Guide</h1></div><div class="authorgroup"><div><span class="imprint-label">Authors: </span><span class="firstname">David</span> <span class="surname">Byte</span>, <span class="firstname">Lars</span> <span class="surname">Marowsky-Bree</span>, <span class="firstname">Igor</span> <span class="surname">Fedotov</span>, <span class="firstname">Jan</span> <span class="surname">Fajerski</span>, <span class="firstname">Abhishek</span> <span class="surname">Lekshmanan</span>, and <span class="firstname">Alexandra</span> <span class="surname">Settle</span></div></div><div class="date"><span class="imprint-label">Publication Date: </span>06/27/2022</div></div></div><div class="toc"><ul><li><span class="part"><a href="part-intro.html"><span class="title-number">I </span><span class="title-name">Introduction</span></a></span><ul><li><span class="chapter"><a href="bk03pt01ch01.html"><span class="title-number">1 </span><span class="title-name">User Privileges and Command Prompts</span></a></span><ul><li><span class="sect1"><a href="bk03pt01ch01.html#id-1.5.2.2.4"><span class="title-number">1.1 </span><span class="title-name">Salt/DeepSea Related Commands</span></a></span></li><li><span class="sect1"><a href="bk03pt01ch01.html#id-1.5.2.2.5"><span class="title-number">1.2 </span><span class="title-name">Ceph Related Commands</span></a></span></li><li><span class="sect1"><a href="bk03pt01ch01.html#id-1.5.2.2.6"><span class="title-number">1.3 </span><span class="title-name">General Linux Commands</span></a></span></li><li><span class="sect1"><a href="bk03pt01ch01.html#id-1.5.2.2.7"><span class="title-number">1.4 </span><span class="title-name">Additional Information</span></a></span></li></ul></li><li><span class="chapter"><a href="tuning-how.html"><span class="title-number">2 </span><span class="title-name">General Notes on System Tuning</span></a></span><ul><li><span class="sect1"><a href="tuning-how.html#sec-tuning-basics-what"><span class="title-number">2.1 </span><span class="title-name">Understand The Problem You are Solving</span></a></span></li><li><span class="sect1"><a href="tuning-how.html#tuning-basics-common"><span class="title-number">2.2 </span><span class="title-name">Rule Out Common Problems</span></a></span></li><li><span class="sect1"><a href="tuning-how.html#sec-tuning-basics-bottleneck"><span class="title-number">2.3 </span><span class="title-name">Finding the Bottleneck</span></a></span></li><li><span class="sect1"><a href="tuning-how.html#sec-tuning-basics-tuning"><span class="title-number">2.4 </span><span class="title-name">Step-by-step Tuning</span></a></span></li></ul></li><li><span class="chapter"><a href="tuning-intro.html"><span class="title-number">3 </span><span class="title-name">Introduction to Tuning SUSE Enterprise Storage Clusters</span></a></span><ul><li><span class="sect1"><a href="tuning-intro.html#tuning-philosophy"><span class="title-number">3.1 </span><span class="title-name">Philosophy of Tuning</span></a></span></li><li><span class="sect1"><a href="tuning-intro.html#tuning-process"><span class="title-number">3.2 </span><span class="title-name">The Process</span></a></span></li><li><span class="sect1"><a href="tuning-intro.html#tuning-hardware-software"><span class="title-number">3.3 </span><span class="title-name">Hardware and Software</span></a></span></li><li><span class="sect1"><a href="tuning-intro.html#tuning-measurement"><span class="title-number">3.4 </span><span class="title-name">Determining What to Measure</span></a></span></li><li><span class="sect1"><a href="tuning-intro.html#tuning-testing-tools-protocol"><span class="title-number">3.5 </span><span class="title-name">Testing Tools and Protocol</span></a></span></li></ul></li></ul></li><li><span class="part"><a href="part-tuning-guide.html"><span class="title-number">II </span><span class="title-name">SUSE Enterprise Storage Tuning</span></a></span><ul><li><span class="chapter"><a href="tuning-architecture.html"><span class="title-number">4 </span><span class="title-name">Architecture and Hardware Tuning</span></a></span><ul><li><span class="sect1"><a href="tuning-architecture.html#tuning-network"><span class="title-number">4.1 </span><span class="title-name">Network</span></a></span></li><li><span class="sect1"><a href="tuning-architecture.html#tuning-node-hw-recommendations"><span class="title-number">4.2 </span><span class="title-name">Node Hardware Recommendations</span></a></span></li><li><span class="sect1"><a href="tuning-architecture.html#tuning-cpeh-rocksdb-wal"><span class="title-number">4.3 </span><span class="title-name">Ceph</span></a></span></li></ul></li><li><span class="chapter"><a href="tuning-os.html"><span class="title-number">5 </span><span class="title-name">Operating System Level Tuning</span></a></span><ul><li><span class="sect1"><a href="tuning-os.html#tuning-sles"><span class="title-number">5.1 </span><span class="title-name">SUSE Linux Enterprise Install and Validation of Base Performance</span></a></span></li><li><span class="sect1"><a href="tuning-os.html#tuning-kernel-tuning"><span class="title-number">5.2 </span><span class="title-name">Kernel Tuning</span></a></span></li></ul></li><li><span class="chapter"><a href="tuning-ceph.html"><span class="title-number">6 </span><span class="title-name">Ceph Tuning</span></a></span><ul><li><span class="sect1"><a href="tuning-ceph.html#tuning-obtaining-metrics"><span class="title-number">6.1 </span><span class="title-name">Obtaining Ceph Metrics</span></a></span></li><li><span class="sect1"><a href="tuning-ceph.html#tuning-tuning-persistent"><span class="title-number">6.2 </span><span class="title-name">Making Tuning Persistent</span></a></span></li><li><span class="sect1"><a href="tuning-ceph.html#tuning-core"><span class="title-number">6.3 </span><span class="title-name">Core</span></a></span></li><li><span class="sect1"><a href="tuning-ceph.html#tuning-rbd"><span class="title-number">6.4 </span><span class="title-name">RBD</span></a></span></li><li><span class="sect1"><a href="tuning-ceph.html#tuning-cephfs"><span class="title-number">6.5 </span><span class="title-name">CephFS</span></a></span></li><li><span class="sect1"><a href="tuning-ceph.html#tuning-rgw"><span class="title-number">6.6 </span><span class="title-name">RGW</span></a></span></li><li><span class="sect1"><a href="tuning-ceph.html#tuning-admin-usage"><span class="title-number">6.7 </span><span class="title-name">Administrative and Usage Choices</span></a></span></li></ul></li><li><span class="chapter"><a href="cha-ceph-tiered.html"><span class="title-number">7 </span><span class="title-name">Cache Tiering</span></a></span><ul><li><span class="sect1"><a href="cha-ceph-tiered.html#id-1.5.3.5.5"><span class="title-number">7.1 </span><span class="title-name">Tiered Storage Terminology</span></a></span></li><li><span class="sect1"><a href="cha-ceph-tiered.html#sec-ceph-tiered-caution"><span class="title-number">7.2 </span><span class="title-name">Points to Consider</span></a></span></li><li><span class="sect1"><a href="cha-ceph-tiered.html#id-1.5.3.5.7"><span class="title-number">7.3 </span><span class="title-name">When to Use Cache Tiering</span></a></span></li><li><span class="sect1"><a href="cha-ceph-tiered.html#sec-ceph-tiered-cachemodes"><span class="title-number">7.4 </span><span class="title-name">Cache Modes</span></a></span></li><li><span class="sect1"><a href="cha-ceph-tiered.html#ceph-tier-erasure"><span class="title-number">7.5 </span><span class="title-name">Erasure Coded Pool and Cache Tiering</span></a></span></li><li><span class="sect1"><a href="cha-ceph-tiered.html#ses-tiered-storage"><span class="title-number">7.6 </span><span class="title-name">Setting Up an Example Tiered Storage</span></a></span></li><li><span class="sect1"><a href="cha-ceph-tiered.html#cache-tier-configure"><span class="title-number">7.7 </span><span class="title-name">Configuring a Cache Tier</span></a></span></li></ul></li><li><span class="chapter"><a href="lvmcache.html"><span class="title-number">8 </span><span class="title-name">Improving Performance with LVM cache</span></a></span><ul><li><span class="sect1"><a href="lvmcache.html#lvmcache-prerequisites"><span class="title-number">8.1 </span><span class="title-name">Prerequisites</span></a></span></li><li><span class="sect1"><a href="lvmcache.html#lvmcache-planning"><span class="title-number">8.2 </span><span class="title-name">Points to Consider</span></a></span></li><li><span class="sect1"><a href="lvmcache.html#lvmcache-preparation"><span class="title-number">8.3 </span><span class="title-name">Preparation</span></a></span></li><li><span class="sect1"><a href="lvmcache.html#lvmcache-configuring"><span class="title-number">8.4 </span><span class="title-name">Configuring LVM cache</span></a></span></li><li><span class="sect1"><a href="lvmcache.html#lvmcache-failures"><span class="title-number">8.5 </span><span class="title-name">Handling Failures</span></a></span></li><li><span class="sect1"><a href="lvmcache.html#lvmcache-faq"><span class="title-number">8.6 </span><span class="title-name">Frequently Asked Questions</span></a></span></li></ul></li></ul></li><li><span class="appendix"><a href="tuning-appendix-a.html"><span class="title-number">A </span><span class="title-name">Salt State for Kernel Tuning</span></a></span></li><li><span class="appendix"><a href="tuning-appendix-b.html"><span class="title-number">B </span><span class="title-name">Ring Buffer Max Value Script</span></a></span></li><li><span class="appendix"><a href="tuning-appendix-c.html"><span class="title-number">C </span><span class="title-name">Network Tuning</span></a></span></li><li><span class="appendix"><a href="bk03apd.html"><span class="title-number">D </span><span class="title-name">Ceph Maintenance Updates Based on Upstream 'Nautilus' Point Releases</span></a></span></li><li><span class="glossary"><a href="bk03go01.html"><span class="title-name">Glossary</span></a></span></li></ul></div><div class="list-of-figures"><div class="toc-title">List of Figures</div><ul><li><span class="figure"><a href="tuning-os.html#yast-config-module"><span class="number">5.1 </span><span class="name">YaST Configuration Module</span></a></span></li><li><span class="figure"><a href="cha-ceph-tiered.html#ses-tiered-hitset-overview-bloom"><span class="number">7.1 </span><span class="name">Bloom Filter with 3 Stored Objects</span></a></span></li></ul></div><div><div class="legalnotice" id="id-1.5.1.6"><p>
  Copyright ©
2022

  SUSE LLC
 </p><p>
  Copyright © 2016, RedHat, Inc, and contributors.

 </p><p>
  The text of and illustrations in this document are licensed under a Creative
  Commons Attribution-Share Alike 4.0 International ("CC-BY-SA"). An
  explanation of CC-BY-SA is available at
  <a class="link" href="http://creativecommons.org/licenses/by-sa/4.0/legalcode" target="_blank">http://creativecommons.org/licenses/by-sa/4.0/legalcode</a>.
  In accordance with CC-BY-SA, if you distribute this document or an adaptation
  of it, you must provide the URL for the original version.
 </p><p>
  Red Hat, Red Hat Enterprise Linux, the Shadowman logo, JBoss, MetaMatrix,
  Fedora, the Infinity Logo, and RHCE are trademarks of Red Hat, Inc.,
  registered in the United States and other countries. Linux® is the
  registered trademark of Linus Torvalds in the United States and other
  countries. Java® is a registered trademark of Oracle and/or its
  affiliates. XFS® is a trademark of Silicon Graphics International Corp.
  or its subsidiaries in the United States and/or other countries. All other
  trademarks are the property of their respective owners.
 </p><p>
  For SUSE trademarks, see
  <a class="link" href="http://www.suse.com/company/legal/" target="_blank">http://www.suse.com/company/legal/</a>. All other
  third-party trademarks are the property of their respective owners. Trademark
  symbols (®, ™ etc.) denote trademarks of SUSE and its affiliates.
  Asterisks (*) denote third-party trademarks.
 </p><p>
  All information found in this book has been compiled with utmost attention to
  detail. However, this does not guarantee complete accuracy. Neither SUSE LLC,
  its affiliates, the authors nor the translators shall be held liable for
  possible errors or the consequences thereof.
 </p></div></div></section><nav class="bottom-pagination"><div> </div><div><a class="pagination-link next" href="part-intro.html"><span class="pagination-relation">Next</span><span class="pagination-label"><span class="title-number">Part I </span>Introduction</span></a> </div></nav></article><aside id="_side-toc-page" class="side-toc"><div class="side-title">Give feedback</div><ul class="feedback" id="_give-feedback"><li><a id="_feedback-reportbug" href="#" rel="nofollow" target="_blank">Report an issue</a></li><li><a id="_feedback-editurl" href="https://github.com/SUSE/doc-ses/edit/maintenance/ses6/xml/book_storage_tuning.xml" rel="nofollow" target="_blank">Edit source document</a></li></ul><div class="side-title">Share this page</div><ul class="share"><li><a id="_share-fb" href="#" title="Facebook"> </a></li><li><a id="_share-in" href="#" title="LinkedIn"> </a></li><li><a id="_share-tw" href="#" title="Twitter"> </a></li><li><a id="_share-mail" href="#" title="E-Mail"> </a></li><li><a id="_print-button" href="#" title="Print this page"> </a></li></ul> </aside></main><footer id="_footer"><div class="growth-inhibitor"><div class="copy"><span class="copy__rights">© SUSE
                 2022</span></div></div></footer></body></html>