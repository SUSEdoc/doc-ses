<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/><title>Frequently Asked Questions | Administration Guide | SUSE Enterprise Storage 5.5 (SES 5 &amp; SES 5.5)</title><link rel="stylesheet" type="text/css" href="static/css/style.css"/>
<meta name="title" content="Frequently Asked Questions | SES 5.5 (SES 5 &amp; SES 5.5)"/>
<meta name="description" content=""/>
<meta name="product-name" content="SUSE Enterprise Storage"/>
<meta name="product-number" content="5.5 (SES 5 &amp; SES 5.5)"/>
<meta name="book-title" content="Administration Guide"/>
<meta name="chapter-title" content="Chapter 21. Frequently Asked Questions"/>
<meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi"/>
<meta name="tracker-type" content="bsc"/>
<meta name="tracker-bsc-assignee" content="tbazant@suse.com"/>
<meta name="tracker-bsc-component" content="Documentation"/>
<meta name="tracker-bsc-product" content="SUSE Enterprise Storage 5"/>
<meta property="og:title" content="Frequently Asked Questions | SES 5.5 (SES 5 &amp; SES 5.5)"/>
<meta property="og:description" content=""/>
<meta property="og:type" content="article"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Frequently Asked Questions | SES 5.5 (SES 5 &amp; SES 5.5)"/>
<meta name="twitter:description" content=""/>
<link rel="prev" href="storage-tips.html" title="Chapter 20. Hints and Tips"/><link rel="next" href="storage-troubleshooting.html" title="Chapter 22. Troubleshooting"/>
<script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"/></noscript><script src="static/js/jquery-1.10.2.min.js" type="text/javascript"> </script><script src="static/js/script.js" type="text/javascript"> </script><script src="static/js/highlight.min.js" type="text/javascript"> </script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft wide offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-pagination">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><header id="_mainnav"><div class="growth-inhibitor"><img src="static/images/logo.svg" alt="Logo" class="logo"/></div></header><div class="crumbs"><div class="growth-inhibitor"><a class="crumb" href="index.html">Administration Guide</a><span> / </span><a class="crumb" href="part-troubleshooting.html">FAQs, Tips and Troubleshooting</a><span> / </span><a class="crumb" href="storage-faqs.html">Frequently Asked Questions</a></div></div><main id="_content"><nav id="_side-toc-overall" class="side-toc"><div class="side-title">Administration Guide</div><ol><li><a href="bk01pr01.html" class=" "><span class="title-number"> </span><span class="title-name">About This Guide</span></a></li><li><a href="part-cluster-managment.html" class="has-children "><span class="title-number">I </span><span class="title-name">Cluster Management</span></a><ol><li><a href="storage-salt-cluster.html" class=" "><span class="title-number">1 </span><span class="title-name">Salt Cluster Administration</span></a></li></ol></li><li><a href="part-operate.html" class="has-children "><span class="title-number">II </span><span class="title-name">Operating a Cluster</span></a><ol><li><a href="cha-ceph-operating.html" class=" "><span class="title-number">2 </span><span class="title-name">Introduction</span></a></li><li><a href="ceph-operating-services.html" class=" "><span class="title-number">3 </span><span class="title-name">Operating Ceph Services</span></a></li><li><a href="ceph-monitor.html" class=" "><span class="title-number">4 </span><span class="title-name">Determining Cluster State</span></a></li><li><a href="monitoring-alerting.html" class=" "><span class="title-number">5 </span><span class="title-name">Monitoring and Alerting</span></a></li><li><a href="cha-storage-cephx.html" class=" "><span class="title-number">6 </span><span class="title-name">Authentication with <code class="systemitem">cephx</code></span></a></li><li><a href="cha-storage-datamgm.html" class=" "><span class="title-number">7 </span><span class="title-name">Stored Data Management</span></a></li><li><a href="ceph-pools.html" class=" "><span class="title-number">8 </span><span class="title-name">Managing Storage Pools</span></a></li><li><a href="ceph-rbd.html" class=" "><span class="title-number">9 </span><span class="title-name">RADOS Block Device</span></a></li><li><a href="cha-ceph-erasure.html" class=" "><span class="title-number">10 </span><span class="title-name">Erasure Coded Pools</span></a></li><li><a href="cha-ceph-tiered.html" class=" "><span class="title-number">11 </span><span class="title-name">Cache Tiering</span></a></li><li><a href="cha-ceph-configuration.html" class=" "><span class="title-number">12 </span><span class="title-name">Ceph Cluster Configuration</span></a></li></ol></li><li><a href="part-dataccess.html" class="has-children "><span class="title-number">III </span><span class="title-name">Accessing Cluster Data</span></a><ol><li><a href="cha-ceph-gw.html" class=" "><span class="title-number">13 </span><span class="title-name">Ceph Object Gateway</span></a></li><li><a href="cha-ceph-iscsi.html" class=" "><span class="title-number">14 </span><span class="title-name">Ceph iSCSI Gateway</span></a></li><li><a href="cha-ceph-cephfs.html" class=" "><span class="title-number">15 </span><span class="title-name">Clustered File System</span></a></li><li><a href="cha-ceph-nfsganesha.html" class=" "><span class="title-number">16 </span><span class="title-name">NFS Ganesha: Export Ceph Data via NFS</span></a></li></ol></li><li><a href="part-gui.html" class="has-children "><span class="title-number">IV </span><span class="title-name">Managing Cluster with GUI Tools</span></a><ol><li><a href="ceph-oa.html" class=" "><span class="title-number">17 </span><span class="title-name">openATTIC</span></a></li></ol></li><li><a href="part-virt.html" class="has-children "><span class="title-number">V </span><span class="title-name">Integration with Virtualization Tools</span></a><ol><li><a href="cha-ceph-libvirt.html" class=" "><span class="title-number">18 </span><span class="title-name">Using <code class="systemitem">libvirt</code> with Ceph</span></a></li><li><a href="cha-ceph-kvm.html" class=" "><span class="title-number">19 </span><span class="title-name">Ceph as a Back-end for QEMU KVM Instance</span></a></li></ol></li><li class="active"><a href="part-troubleshooting.html" class="has-children you-are-here"><span class="title-number">VI </span><span class="title-name">FAQs, Tips and Troubleshooting</span></a><ol><li><a href="storage-tips.html" class=" "><span class="title-number">20 </span><span class="title-name">Hints and Tips</span></a></li><li><a href="storage-faqs.html" class=" you-are-here"><span class="title-number">21 </span><span class="title-name">Frequently Asked Questions</span></a></li><li><a href="storage-troubleshooting.html" class=" "><span class="title-number">22 </span><span class="title-name">Troubleshooting</span></a></li></ol></li><li><a href="gloss-storage-glossary.html" class=" "><span class="title-number"> </span><span class="title-name">Glossary</span></a></li><li><a href="app-stage1-custom.html" class=" "><span class="title-number">A </span><span class="title-name">DeepSea Stage 1 Custom Example</span></a></li><li><a href="app-alerting-default.html" class=" "><span class="title-number">B </span><span class="title-name">Default Alerts for SUSE Enterprise Storage</span></a></li><li><a href="app-storage-manual-inst.html" class=" "><span class="title-number">C </span><span class="title-name">Example Procedure of Manual Ceph Installation</span></a></li><li><a href="ap-adm-docupdate.html" class=" "><span class="title-number">D </span><span class="title-name">Documentation Updates</span></a></li> </ol> </nav><button id="_open-side-toc-overall" title="Contents"> </button><article class="documentation"><button id="_unfold-side-toc-page">On this page</button><section class="chapter" id="storage-faqs" data-id-title="Frequently Asked Questions"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname">SUSE Enterprise Storage</span> <span class="productnumber">5.5 (SES 5 &amp; SES 5.5)</span></div><div><h2 class="title"><span class="title-number">21 </span><span class="title-name">Frequently Asked Questions</span> <a title="Permalink" class="permalink" href="storage-faqs.html#">#</a></h2></div></div></div><section class="sect1" id="storage-bp-tuneups-pg-num" data-id-title="How Does the Number of Placement Groups Affect the Cluster Performance?"><div class="titlepage"><div><div><h2 class="title"><span class="title-number">21.1 </span><span class="title-name">How Does the Number of Placement Groups Affect the Cluster Performance?</span> <a title="Permalink" class="permalink" href="storage-faqs.html#storage-bp-tuneups-pg-num">#</a></h2></div></div></div><p>
   When your cluster is becoming 70% to 80% full, it is time to add more OSDs
   to it. When you increase the number of OSDs, you may consider increasing the
   number of placement groups as well.
  </p><div id="id-1.3.8.3.4.3" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.svg"/><h6>Warning</h6><p>
    Changing the number of PGs causes a lot of data transfer within the
    cluster.
   </p></div><p>
   To calculate the optimal value for your newly-resized cluster is a complex
   task.
  </p><p>
   A high number of PGs creates small chunks of data. This speeds up recovery
   after an OSD failure, but puts a lot of load on the monitor nodes as they
   are responsible for calculating the data location.
  </p><p>
   On the other hand, a low number of PGs takes more time and data transfer to
   recover from an OSD failure, but does not impose that much load on monitor
   nodes as they need to calculate locations for less (but larger) data chunks.
  </p></section><section class="sect1" id="storage-bp-tuneups-mix-ssd" data-id-title="Can I Use SSDs and Hard Disks on the Same Cluster?"><div class="titlepage"><div><div><h2 class="title"><span class="title-number">21.2 </span><span class="title-name">Can I Use SSDs and Hard Disks on the Same Cluster?</span> <a title="Permalink" class="permalink" href="storage-faqs.html#storage-bp-tuneups-mix-ssd">#</a></h2></div></div></div><p>
   Solid-state drives (SSD) are generally faster than hard disks. If you mix
   the two types of disks for the same write operation, the data writing to the
   SSD disk will be slowed down by the hard disk performance. Thus, you should
   <span class="emphasis"><em>never mix SSDs and hard disks</em></span> for data writing
   following <span class="emphasis"><em>the same rule</em></span> (see
   <a class="xref" href="cha-storage-datamgm.html#datamgm-rules" title="7.3. Rule Sets">Section 7.3, “Rule Sets”</a> for more information on rules for storing
   data).
  </p><p>
   There are generally 2 cases where using SSD and hard disk on the same
   cluster makes sense:
  </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
     Use each disk type for writing data following different rules. Then you
     need to have a separate rule for the SSD disk, and another rule for the
     hard disk.
    </p></li><li class="listitem"><p>
     Use each disk type for a specific purpose. For example the SSD disk for
     journal, and the hard disk for storing data.
    </p></li></ol></div></section><section class="sect1" id="storage-bp-tuneups-ssd-tradeoffs" data-id-title="What are the Trade-offs of Using a Journal on SSD?"><div class="titlepage"><div><div><h2 class="title"><span class="title-number">21.3 </span><span class="title-name">What are the Trade-offs of Using a Journal on SSD?</span> <a title="Permalink" class="permalink" href="storage-faqs.html#storage-bp-tuneups-ssd-tradeoffs">#</a></h2></div></div></div><p>
   Using SSDs for OSD journal(s) is better for performance as the journal is
   usually the bottleneck of hard disk-only OSDs. SSDs are often used to share
   journals of several OSDs.
  </p><p>
   Following is a list of potential disadvantages of using SSDs for OSD
   journal:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     SSD disks are more expensive than hard disks. But as one OSD journal
     requires up to 6GB of disk space only, the price may not be so crucial.
    </p></li><li class="listitem"><p>
     SSD disk consumes storage slots which can be otherwise used by a large
     hard disk to extend the cluster capacity.
    </p></li><li class="listitem"><p>
     SSD disks have reduced write cycles compared to hard disks, but modern
     technologies are beginning to eliminate the problem.
    </p></li><li class="listitem"><p>
     If you share more journals on the same SSD disk, you risk losing all the
     related OSDs after the SSD disk fails. This will require a lot of data to
     be moved to rebalance the cluster.
    </p></li><li class="listitem"><p>
     Hotplugging disks becomes more complex as the data mapping is not 1:1 the
     failed OSD and the journal disk.
    </p></li></ul></div></section><section class="sect1" id="storage-bp-monitoring-diskfails" data-id-title="What Happens When a Disk Fails?"><div class="titlepage"><div><div><h2 class="title"><span class="title-number">21.4 </span><span class="title-name">What Happens When a Disk Fails?</span> <a title="Permalink" class="permalink" href="storage-faqs.html#storage-bp-monitoring-diskfails">#</a></h2></div></div></div><p>
   When a disk with a stored cluster data has a hardware problem and fails to
   operate, here is what happens:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     The related OSD crashed and is automatically removed from the cluster.
    </p></li><li class="listitem"><p>
     The failed disk's data is replicated to another OSD in the cluster from
     other copies of the same data stored in other OSDs.
    </p></li><li class="listitem"><p>
     Then you should remove the disk from the cluster CRUSH Map, and
     physically from the host hardware.
    </p></li></ul></div></section><section class="sect1" id="storage-bp-monitoring-journalfails" data-id-title="What Happens When a Journal Disk Fails?"><div class="titlepage"><div><div><h2 class="title"><span class="title-number">21.5 </span><span class="title-name">What Happens When a Journal Disk Fails?</span> <a title="Permalink" class="permalink" href="storage-faqs.html#storage-bp-monitoring-journalfails">#</a></h2></div></div></div><p>
   Ceph can be configured to store journals or write ahead logs on devices
   separate from the OSDs.  When a disk dedicated to a journal fails, the
   related OSD(s) fail as well
    (see
   <a class="xref" href="storage-faqs.html#storage-bp-monitoring-diskfails" title="21.4. What Happens When a Disk Fails?">Section 21.4, “What Happens When a Disk Fails?”</a>).
  </p><div id="id-1.3.8.3.8.3" data-id-title="Hosting Multiple Journals on One Disk" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.svg"/><h6>Warning: Hosting Multiple Journals on One Disk</h6><p>
    For performance boost, you can use a fast disk (such as SSD) to store
    journal partitions for several OSDs. We do not recommend to host journals
    for more than 4 OSDs on one disk, because in case of the journals' disk
    failure, you risk losing stored data for all the related OSDs' disks.
   </p></div></section></section><nav class="bottom-pagination"><div><a class="pagination-link prev" href="storage-tips.html"><span class="pagination-relation">Previous</span><span class="pagination-label"><span class="title-number">Chapter 20 </span>Hints and Tips</span></a> </div><div><a class="pagination-link next" href="storage-troubleshooting.html"><span class="pagination-relation">Next</span><span class="pagination-label"><span class="title-number">Chapter 22 </span>Troubleshooting</span></a> </div></nav></article><aside id="_side-toc-page" class="side-toc"><div class="side-title">On this page</div><div class="toc"><ul><li><span class="sect1"><a href="storage-faqs.html#storage-bp-tuneups-pg-num"><span class="title-number">21.1 </span><span class="title-name">How Does the Number of Placement Groups Affect the Cluster Performance?</span></a></span></li><li><span class="sect1"><a href="storage-faqs.html#storage-bp-tuneups-mix-ssd"><span class="title-number">21.2 </span><span class="title-name">Can I Use SSDs and Hard Disks on the Same Cluster?</span></a></span></li><li><span class="sect1"><a href="storage-faqs.html#storage-bp-tuneups-ssd-tradeoffs"><span class="title-number">21.3 </span><span class="title-name">What are the Trade-offs of Using a Journal on SSD?</span></a></span></li><li><span class="sect1"><a href="storage-faqs.html#storage-bp-monitoring-diskfails"><span class="title-number">21.4 </span><span class="title-name">What Happens When a Disk Fails?</span></a></span></li><li><span class="sect1"><a href="storage-faqs.html#storage-bp-monitoring-journalfails"><span class="title-number">21.5 </span><span class="title-name">What Happens When a Journal Disk Fails?</span></a></span></li></ul></div><div class="side-title">Give feedback</div><ul class="feedback" id="_give-feedback"><li><a id="_feedback-reportbug" href="#" rel="nofollow" target="_blank">Report an issue</a></li><li><a id="_feedback-editurl" href="https://github.com/SUSE/doc-ses/edit/maintenance/ses5/xml/admin_ceph_faqs.xml" rel="nofollow" target="_blank">Edit source document</a></li></ul><div class="side-title">Share this page</div><ul class="share"><li><a id="_share-fb" href="#" title="Facebook"> </a></li><li><a id="_share-in" href="#" title="LinkedIn"> </a></li><li><a id="_share-tw" href="#" title="Twitter"> </a></li><li><a id="_share-mail" href="#" title="E-Mail"> </a></li><li><a id="_print-button" href="#" title="Print this page"> </a></li></ul> </aside></main><footer id="_footer"><div class="growth-inhibitor"><div class="copy"><span class="copy__rights">© SUSE
                 2022</span></div></div></footer></body></html>