<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/><title>SES 7.1 | Deploying and Administering SUSE Enterprise Storage with Rook | Ceph Dashboard</title><link rel="stylesheet" type="text/css" href="static/css/style.css"/>
<meta name="title" content="Ceph Dashboard | SES 7.1"/>
<meta name="description" content="The Ceph Dashboard is a helpful tool to give you an overview of the status of your Ceph cluster, including overall health, status of the MOPN quorum,…"/>
<meta name="product-name" content="SUSE Enterprise Storage"/>
<meta name="product-number" content="7.1"/>
<meta name="book-title" content="Deploying and Administering SUSE Enterprise Storage with Rook"/>
<meta name="chapter-title" content="Chapter 14. Ceph Dashboard"/>
<meta name="tracker-url" content="https://github.com/SUSE/doc-ses/issues/new"/>
<meta name="tracker-type" content="gh"/>
<meta name="tracker-gh-assignee" content="tbazant"/>
<meta name="tracker-gh-template" content="&#10;     ### Type of report&#10;   - [ ] bug&#10;   - [ ] feature request&#10;&#10;### Source Document&#10;@@source@@&#10;&#10;### Summary&#10;&lt;!-- A clear and concise description of what the bug/feature request is. --&gt;&#10;&#10;### Steps To Reproduce&#10;&lt;!-- Steps to reproduce the behavior if you ran through steps in the document. --&gt;&#10;&#10;### Expected Results&#10;&lt;!-- A clear and concise description of what you expected to happen. --&gt;&#10;&#10;### Actual Results&#10;&lt;!-- Explain what actually happened if steps were executed, and if applicable, add screenshots to help explain your problem. --&gt;&#10;&#10;### Notes&#10;&lt;!-- Add any other context about the problem here. --&gt;&#10;&#10;    "/>
<meta name="tracker-gh-labels" content="bug,question,feature request"/>
<meta property="og:title" content="Ceph Dashboard | SES 7.1"/>
<meta property="og:description" content="The Ceph Dashboard is a helpful tool to give you an overview of the status of your Ceph cluster, including overall health, status of the MOPN quorum,…"/>
<meta property="og:type" content="article"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Ceph Dashboard | SES 7.1"/>
<meta name="twitter:description" content="The Ceph Dashboard is a helpful tool to give you an overview of the status of your Ceph cluster, including overall health, status of the MOPN quorum,…"/>
<link rel="prev" href="admin-caasp-object-storage.html" title="Chapter 13. Object Storage"/><link rel="next" href="rook-ses-troubleshooting.html" title="Part III. Troubleshooting Ceph on SUSE CaaS Platform"/>
<script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"/></noscript><script src="static/js/jquery-1.12.4.min.js" type="text/javascript"> </script><script src="static/js/script.js" type="text/javascript"> </script><script src="static/js/highlight.min.js" type="text/javascript"> </script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script><meta name="edit-url" content="https://github.com/SUSE/doc-ses/edit/main/xml/admin_caasp_object_dashboard.xml"/></head><body class="draft wide offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-pagination">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><header id="_mainnav"><div class="growth-inhibitor"><img src="static/images/logo.svg" alt="Logo" class="logo"/></div></header><div class="crumbs"><div class="growth-inhibitor"><a class="crumb" href="index.html">Deploying and Administering SUSE Enterprise Storage with Rook</a><span> / </span><a class="crumb" href="rook-ses-admin.html">Administrating Ceph on SUSE CaaS Platform</a><span> / </span><a class="crumb" href="admin-caasp-dashboard.html">Ceph Dashboard</a></div></div><main id="_content"><nav id="_side-toc-overall" class="side-toc"><div class="side-title">Deploying and Administering SUSE Enterprise Storage with Rook</div><ol><li><a href="preface-rook.html" class=" "><span class="title-number"> </span><span class="title-name">About this guide</span></a></li><li><a href="rook-ses-deployment.html" class="has-children "><span class="title-number">I </span><span class="title-name">Quick Start: Deploying and Upgrading Ceph on SUSE CaaS Platform</span></a><ol><li><a href="deploy-rook.html" class=" "><span class="title-number">1 </span><span class="title-name">Quick start</span></a></li><li><a href="update-rook.html" class=" "><span class="title-number">2 </span><span class="title-name">Updating Rook</span></a></li></ol></li><li class="active"><a href="rook-ses-admin.html" class="has-children you-are-here"><span class="title-number">II </span><span class="title-name">Administrating Ceph on SUSE CaaS Platform</span></a><ol><li><a href="admin-intro-caasp.html" class=" "><span class="title-number">3 </span><span class="title-name">Rook-Ceph administration</span></a></li><li><a href="admin-caasp-cluster.html" class=" "><span class="title-number">4 </span><span class="title-name">Ceph cluster administration</span></a></li><li><a href="admin-caasp-block-storage.html" class=" "><span class="title-number">5 </span><span class="title-name">Block Storage</span></a></li><li><a href="admin-caasp-cephfs.html" class=" "><span class="title-number">6 </span><span class="title-name">CephFS</span></a></li><li><a href="admin-caasp-crd.html" class=" "><span class="title-number">7 </span><span class="title-name">Ceph cluster custom resource definitions</span></a></li><li><a href="admin-caasp-cephconfig.html" class=" "><span class="title-number">8 </span><span class="title-name">Configuration</span></a></li><li><a href="admin-caasp-cephtoolbox.html" class=" "><span class="title-number">9 </span><span class="title-name">Toolboxes</span></a></li><li><a href="admin-caasp-cephosd.html" class=" "><span class="title-number">10 </span><span class="title-name">Ceph OSD management</span></a></li><li><a href="admin-caasp-ceph-examples.html" class=" "><span class="title-number">11 </span><span class="title-name">Ceph examples</span></a></li><li><a href="admin-caasp-advanced-config.html" class=" "><span class="title-number">12 </span><span class="title-name">Advanced configuration</span></a></li><li><a href="admin-caasp-object-storage.html" class=" "><span class="title-number">13 </span><span class="title-name">Object Storage</span></a></li><li><a href="admin-caasp-dashboard.html" class=" you-are-here"><span class="title-number">14 </span><span class="title-name">Ceph Dashboard</span></a></li></ol></li><li><a href="rook-ses-troubleshooting.html" class="has-children "><span class="title-number">III </span><span class="title-name">Troubleshooting Ceph on SUSE CaaS Platform</span></a><ol><li><a href="atroubleshooting-caasp-debugging-rook.html" class=" "><span class="title-number">15 </span><span class="title-name">Troubleshooting</span></a></li><li><a href="admin-caasp-ceph-common-issues.html" class=" "><span class="title-number">16 </span><span class="title-name">Common issues</span></a></li></ol></li><li><a href="bk05apa.html" class=" "><span class="title-number">A </span><span class="title-name">Ceph maintenance updates based on upstream 'Pacific' point releases</span></a></li><li><a href="bk05go01.html" class=" "><span class="title-number"> </span><span class="title-name">Glossary</span></a></li> </ol> </nav><button id="_open-side-toc-overall" title="Contents"> </button><article class="documentation"><button id="_unfold-side-toc-page">On this page</button><section class="chapter" id="admin-caasp-dashboard" data-id-title="Ceph Dashboard"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname">SUSE Enterprise Storage</span> <span class="productnumber">7.1</span></div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">14 </span><span class="title-name">Ceph Dashboard</span></span> <a title="Permalink" class="permalink" href="admin-caasp-dashboard.html#">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-ses/edit/main/xml/admin_caasp_object_dashboard.xml" title="Edit source document"> </a></div></div></div></div></div><section class="sect1" id="caasp-ceph-dashboard" data-id-title="Ceph Dashboard"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">14.1 </span><span class="title-name">Ceph Dashboard</span></span> <a title="Permalink" class="permalink" href="admin-caasp-dashboard.html#caasp-ceph-dashboard">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-ses/edit/main/xml/admin_caasp_object_dashboard.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The Ceph Dashboard is a helpful tool to give you an overview of the status of
   your Ceph cluster, including overall health, status of the MOPN quorum,
   status of the MGR, OSD, and other Ceph daemons, view pools and PG status,
   show logs for the daemons, and more. Rook makes it simple to enable the
   dashboard.
  </p><div class="figure" id="id-1.7.4.13.3.3"><div class="figure-contents"><div class="mediaobject"><a href="images/dashboard_homepage.png"><img src="images/dashboard_homepage.png" alt="The Ceph Dashboard" title="The Ceph Dashboard"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 14.1: </span><span class="title-name">The Ceph Dashboard </span></span><a title="Permalink" class="permalink" href="admin-caasp-dashboard.html#id-1.7.4.13.3.3">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-ses/edit/main/xml/admin_caasp_object_dashboard.xml" title="Edit source document"> </a></div></div></div><section class="sect2" id="enable-the-ceph-dashboard" data-id-title="Enabling the Ceph Dashboard"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">14.1.1 </span><span class="title-name">Enabling the Ceph Dashboard</span></span> <a title="Permalink" class="permalink" href="admin-caasp-dashboard.html#enable-the-ceph-dashboard">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-ses/edit/main/xml/admin_caasp_object_dashboard.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The
    <a class="link" href="http://docs.ceph.com/docs/mimic/mgr/dashboard/" target="_blank">dashboard</a>
    can be enabled with settings in the CephCluster CRD. The CephCluster CRD
    must have the dashboard <code class="literal">enabled</code> setting set to
    <code class="literal">true</code>. This is the default setting in the example
    manifests.
   </p><div class="verbatim-wrap"><pre class="screen">  spec:
    dashboard:
      enabled: true</pre></div><p>
    The Rook operator will enable the <code class="literal">ceph-mgr</code> dashboard
    module. A service object will be created to expose that port inside the
    Kubernetes cluster. Rook will enable port 8443 for HTTPS access.
   </p><p>
    This example shows that port 8443 was configured:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">kubectl@adm &gt; </code>kubectl -n rook-ceph get service
NAME                         TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)          AGE
rook-ceph-mgr                ClusterIP   10.108.111.192   &lt;none&gt;        9283/TCP         3h
rook-ceph-mgr-dashboard      ClusterIP   10.110.113.240   &lt;none&gt;        8443/TCP         3h</pre></div><p>
    The first service is for reporting the Prometheus metrics, while the
    latter service is for the dashboard. If you are on a node in the cluster,
    you will be able to connect to the dashboard by using either the DNS name
    of the service at
    <code class="literal">https://rook-ceph-mgr-dashboard-https:8443</code> or by
    connecting to the cluster IP, in this example at
    <code class="literal">https://10.110.113.240:8443</code>.
   </p><div id="id-1.7.4.13.3.4.8" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important</div><p>
     The dashboard will only be enabled for the first Ceph object store
     created by Rook.
    </p></div><section class="sect3" id="login-credentials" data-id-title="Creating login credentials"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">14.1.1.1 </span><span class="title-name">Creating login credentials</span></span> <a title="Permalink" class="permalink" href="admin-caasp-dashboard.html#login-credentials">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-ses/edit/main/xml/admin_caasp_object_dashboard.xml" title="Edit source document"> </a></div></div></div></div></div><p>
     After you connect to the dashboard, you will need to login for secure
     access. Rook creates a default user named <code class="literal">admin</code> and
     generates a secret called
     <code class="literal">rook-ceph-dashboard-admin-password</code> in the namespace
     where the Rook-Ceph cluster is running. To retrieve the generated
     password, you can run the following:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">kubectl@adm &gt; </code>kubectl -n rook-ceph get secret rook-ceph-dashboard-password \
 -o jsonpath="{['data']['password']}" | base64 --decode &amp;&amp; echo</pre></div></section></section><section class="sect2" id="configure-the-dashboard" data-id-title="Configuring the Ceph Dashboard"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">14.1.2 </span><span class="title-name">Configuring the Ceph Dashboard</span></span> <a title="Permalink" class="permalink" href="admin-caasp-dashboard.html#configure-the-dashboard">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-ses/edit/main/xml/admin_caasp_object_dashboard.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The following dashboard configuration settings are supported:
   </p><div class="verbatim-wrap"><pre class="screen">  spec:
    dashboard:
      urlPrefix: /ceph-dashboard
      port: 8443
      ssl: true</pre></div><div class="itemizedlist"><ul class="itemizedlist compact"><li class="listitem"><p>
      <code class="literal">urlPrefix</code> If you are accessing the dashboard via a
      reverse proxy, you may wish to serve it under a URL prefix. To get the
      dashboard to use hyperlinks that include your prefix, you can set the
      <code class="literal">urlPrefix</code> setting.
     </p></li><li class="listitem"><p>
      <code class="literal">port</code> The port that the dashboard is served on may be
      changed from the default using the <code class="literal">port</code> setting. The
      corresponding K8s service exposing the port will automatically be
      updated.
     </p></li><li class="listitem"><p>
      <code class="literal">ssl</code> The dashboard may be served without SSL by setting
      the <code class="literal">ssl</code> option to false.
     </p></li></ul></div></section><section class="sect2" id="viewing-the-dashboard-external-to-the-cluster" data-id-title="Viewing the Ceph Dashboard external to the cluster"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">14.1.3 </span><span class="title-name">Viewing the Ceph Dashboard external to the cluster</span></span> <a title="Permalink" class="permalink" href="admin-caasp-dashboard.html#viewing-the-dashboard-external-to-the-cluster">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-ses/edit/main/xml/admin_caasp_object_dashboard.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    Commonly, you will want to view the dashboard from outside the cluster. For
    example, on a development machine with the cluster running inside minikube,
    you will want to access the dashboard from the host.
   </p><p>
    There are several ways to expose a service, which will depend on the
    environment you are running in. You can use an Ingress Controller or other
    methods for exposing services such as NodePort, LoadBalancer, or
    ExternalIPs.
   </p><section class="sect3" id="node-port" data-id-title="Node port"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">14.1.3.1 </span><span class="title-name">Node port</span></span> <a title="Permalink" class="permalink" href="admin-caasp-dashboard.html#node-port">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-ses/edit/main/xml/admin_caasp_object_dashboard.xml" title="Edit source document"> </a></div></div></div></div></div><p>
     The simplest way to expose the service in minikube or similar environments
     is using the NodePort to open a port on the VM that can be accessed by the
     host. To create a service with the NodePort, save this YAML file as
     <code class="filename">dashboard-external-https.yaml</code>.
    </p><div class="verbatim-wrap"><pre class="screen">  apiVersion: v1
  kind: Service
  metadata:
    name: rook-ceph-mgr-dashboard-external-https
    namespace: rook-ceph
    labels:
      app: rook-ceph-mgr
      rook_cluster: rook-ceph
  spec:
    ports:
    - name: dashboard
      port: 8443
      protocol: TCP
      targetPort: 8443
    selector:
      app: rook-ceph-mgr
      rook_cluster: rook-ceph
    sessionAffinity: None
    type: NodePort</pre></div><p>
     Now create the service:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">kubectl@adm &gt; </code>kubectl create -f dashboard-external-https.yaml</pre></div><p>
     You will see the new service
     <code class="literal">rook-ceph-mgr-dashboard-external-https</code> created:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">kubectl@adm &gt; </code>kubectl -n rook-ceph get service
NAME                                    TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)          AGE
rook-ceph-mgr                           ClusterIP   10.108.111.192   &lt;none&gt;        9283/TCP         4h
rook-ceph-mgr-dashboard                 ClusterIP   10.110.113.240   &lt;none&gt;        8443/TCP         4h
rook-ceph-mgr-dashboard-external-https  NodePort    10.101.209.6     &lt;none&gt;        8443:31176/TCP   4h</pre></div><p>
     In this example, port <code class="literal">31176</code> will be opened to expose
     port <code class="literal">8443</code> from the ceph-mgr pod. Find the IP address of
     the VM. If using minikube, you can run <code class="literal">minikube ip</code> to
     find the IP address. Now you can enter the URL in your browser such as
     <code class="literal">https://192.168.99.110:31176</code> and the dashboard will
     appear.
    </p></section><section class="sect3" id="load-balancer" data-id-title="Creating the load balancer service"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">14.1.3.2 </span><span class="title-name">Creating the load balancer service</span></span> <a title="Permalink" class="permalink" href="admin-caasp-dashboard.html#load-balancer">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-ses/edit/main/xml/admin_caasp_object_dashboard.xml" title="Edit source document"> </a></div></div></div></div></div><p>
     If you have a cluster on a cloud provider that supports load balancers,
     you can create a service that is provisioned with a public hostname. The
     yaml is the same as <code class="literal">dashboard-external-https.yaml</code>
     except for the following property:
    </p><div class="verbatim-wrap"><pre class="screen">  spec:
  [...]
    type: LoadBalancer</pre></div><p>
     Now create the service:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">kubectl@adm &gt; </code>kubectl create -f dashboard-loadbalancer.yaml</pre></div><p>
     You will see the new service
     <code class="literal">rook-ceph-mgr-dashboard-loadbalancer</code> created:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">kubectl@adm &gt; </code>kubectl -n rook-ceph get service
NAME                                     TYPE           CLUSTER-IP       EXTERNAL-IP                                                               PORT(S)             AGE
rook-ceph-mgr                            ClusterIP      172.30.11.40     &lt;none&gt;                                                                    9283/TCP      4h
rook-ceph-mgr-dashboard                  ClusterIP      172.30.203.185   &lt;none&gt;                                                                    8443/TCP      4h
rook-ceph-mgr-dashboard-loadbalancer     LoadBalancer   172.30.27.242    a7f23e8e2839511e9b7a5122b08f2038-1251669398.us-east-1.elb.amazonaws.com   8443:32747/TCP      4h</pre></div><p>
     Now you can enter the URL in your browser such as
     <code class="literal">https://a7f23e8e2839511e9b7a5122b08f2038-1251669398.us-east-1.elb.amazonaws.com:8443</code>
     and the dashboard will appear.
    </p></section><section class="sect3" id="ingress-controller" data-id-title="Ingress controller"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">14.1.3.3 </span><span class="title-name">Ingress controller</span></span> <a title="Permalink" class="permalink" href="admin-caasp-dashboard.html#ingress-controller">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-ses/edit/main/xml/admin_caasp_object_dashboard.xml" title="Edit source document"> </a></div></div></div></div></div><p>
     If you have a cluster with an Nginx Ingress Controller and a certificate
     manager, then you can create an ingress like the one below. This example
     achieves four things:
    </p><div class="orderedlist"><ol class="orderedlist compact" type="1"><li class="listitem"><p>
       Exposes the dashboard on the Internet (using an reverse proxy).
      </p></li><li class="listitem"><p>
       Issues an valid TLS Certificate for the specified domain name.
      </p></li><li class="listitem"><p>
       Tells the reverse proxy that the dashboard itself uses HTTPS.
      </p></li><li class="listitem"><p>
       Tells the reverse proxy that the dashboard itself does not have a valid
       certificate (it is self-signed).
      </p></li></ol></div><div class="verbatim-wrap"><pre class="screen">  apiVersion: extensions/v1beta1
  kind: Ingress
  metadata:
    name: rook-ceph-mgr-dashboard
    namespace: rook-ceph
    annotations:
      kubernetes.io/ingress.class: "nginx"
      kubernetes.io/tls-acme: "true"
      nginx.ingress.kubernetes.io/backend-protocol: "HTTPS"
      nginx.ingress.kubernetes.io/server-snippet: |
        proxy_ssl_verify off;
  spec:
    tls:
     - hosts:
       - rook-ceph.example.com
       secretName: rook-ceph.example.com
    rules:
    - host: rook-ceph.example.com
      http:
        paths:
        - path: /
          backend:
            serviceName: rook-ceph-mgr-dashboard
            servicePort: https-dashboard</pre></div><p>
     Customise the ingress resource to match your cluster. Replace the example
     domain name <code class="literal">rook-ceph.example.com</code> with a domain name
     that will resolve to your Ingress Controller (creating the DNS entry if
     required).
    </p><p>
     Now create the ingress:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">kubectl@adm &gt; </code>kubectl create -f dashboard-ingress-https.yaml</pre></div><p>
     You will see the new ingress <code class="literal">rook-ceph-mgr-dashboard</code>
     created:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">kubectl@adm &gt; </code>kubectl -n rook-ceph get ingress
NAME                      HOSTS                      ADDRESS   PORTS     AGE
rook-ceph-mgr-dashboard   rook-ceph.example.com      80, 443   5m</pre></div><p>
     And the new secret for the TLS certificate:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">kubectl@adm &gt; </code>kubectl -n rook-ceph get secret rook-ceph.example.com
NAME                       TYPE                DATA      AGE
rook-ceph.example.com      kubernetes.io/tls   2         4m</pre></div><p>
     You can now browse to <code class="literal">https://rook-ceph.example.com/</code> to
     log into the dashboard.
    </p></section></section></section></section><nav class="bottom-pagination"><div><a class="pagination-link prev" href="admin-caasp-object-storage.html"><span class="pagination-relation">Previous</span><span class="pagination-label"><span class="title-number">Chapter 13 </span>Object Storage</span></a> </div><div><a class="pagination-link next" href="rook-ses-troubleshooting.html"><span class="pagination-relation">Next</span><span class="pagination-label"><span class="title-number">Part III </span>Troubleshooting Ceph on SUSE CaaS Platform</span></a> </div></nav></article><aside id="_side-toc-page" class="side-toc"><div class="side-title">On this page</div><div class="toc"><ul><li><span class="sect1"><a href="admin-caasp-dashboard.html#caasp-ceph-dashboard"><span class="title-number">14.1 </span><span class="title-name">Ceph Dashboard</span></a></span></li></ul></div><div class="side-title">Share this page</div><ul class="share"><li><a id="_share-fb" href="#" title="Facebook"> </a></li><li><a id="_share-in" href="#" title="LinkedIn"> </a></li><li><a id="_share-tw" href="#" title="Twitter"> </a></li><li><a id="_share-mail" href="#" title="E-Mail"> </a></li><li><a id="_print-button" href="#" title="Print this page"> </a></li></ul> </aside></main><footer id="_footer"><div class="growth-inhibitor"><div class="copy"><span class="copy__rights">© SUSE
                 2022</span></div></div></footer></body></html>